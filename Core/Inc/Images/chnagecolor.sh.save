#!/bin/bash

# Chemin vers le dossier contenant les images BMP avec fond blanc
input_folder="."

# Chemin vers le dossier où seront placées les images modifiées
output_folder=""

# Créer le dossier de destination s'il n'existe pas
mkdir -p "$output_folder"

# Couleur de remplacement (dans cet exemple, on choisit le rouge)
replacement_color="red"

# Parcourir toutes les images dans le dossier d'entrée
for img in "$input_folder"/*.bmp; do
    # Extraire le nom de fichier sans extension
    filename=$(basename -- "$img")
    filename_no_ext="${filename%.*}"

    # Appliquer la transformation avec ImageMagick
    convert "$img" -fill "$replacement_color" -opaque white "$output_folder/$filename_no_ext"_modifie.bmp

    # Afficher le nom du fichier traité
    echo "Image traitée : $filename"
done

echo "Toutes les images ont été traitées avec succès."
